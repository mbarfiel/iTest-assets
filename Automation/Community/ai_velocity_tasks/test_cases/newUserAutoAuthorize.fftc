<?xml version="1.0"?>
<testCase version="7.1.0.201804110601">
    <general>
        <documentation>Automatically authorize new users and add them to default user group</documentation>
        <notes>This will automatically add users to a default user groups when they login and send a notification to the admins</notes>
        <owner>MBarfield</owner>
        <language>Python</language>
    </general>
    <execution>
        <parameters version="7.1.0.201804110601">
            <parameters escape="true">
                <parameters xmlns:pt="http://www.fnfr.com/schemas/parameterTree">
                    <email pt:description="email for user">spirentito.se@gmail.com</email>
                    <password pt:description="email password" pt:mask="true">OYFutY2DryV1FmnoBotBfA==</password>
                    <groupName pt:description="User group to add new users">KVM-Workshop</groupName>
                    <role pt:description="role used to send emails - e.g. ADMIN, USER">ADMIN</role>
                </parameters>
            </parameters>
        </parameters>
    </execution>
    <procedures>
        <item name="main">
            <steps>
                <item guid="d62cacf1-81c0-4319-8a69-17b714b8610d" action="comment">
                    <command>
                        <body>Open sessions</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fd6dd465-2253-4e11-b381-57a9389ca970" action="comment">
                    <command>
                        <body>debug info</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="83579c4c-02f8-4741-bf94-33532b1a53ea" action="eval">
                    <command>
                        <body>token = velocity(&apos;token&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5b9e9626-1aa9-42b3-b280-c5d7afb19752" action="eval">
                    <command>
                        <body>print(token)</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^.*$</regex>
                                        <extractionGroupIndex>0</extractionGroupIndex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message>Get token for REST calls: &quot;{value}&quot;</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5e03c341-3e6f-4fd0-992a-d40c03b9fd9a" action="comment">
                    <command>
                        <body>Add new user to user group on first login</body>
                    </command>
                    <nestedSteps>
                        <item guid="1f9f451e-adc9-4f4d-a4ee-7b6742042f58" action="open" session="velocity">
                            <command>
                                <body>project://di_velocity_com/session_profiles/REST_ref_session_profile.ffsp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.140.64.12/velocity/api" url.inherit="false">
                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType.inherit="false" user.inherit="false" password.masked="true" password="CaK+mWSFs84=" password.inherit="false"/>
                                    <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                        <memberClasses>
                                            <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                        </memberClasses>
                                        <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="Content-Type" header.inherit="false" value="application/json" value.inherit="false"/>
                                        <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="X-Auth-Token" header.inherit="false" value="[token]" value.inherit="false"/>
                                    </httpHeader>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="1bb792cd-95cf-4416-b2c9-ba7878547e69" action="call">
                            <command>
                                <body>getEmailsPerUserRole -role [param(&apos;role&apos;)] -token [token]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                <regex>^.*$</regex>
                                                <extractionGroupIndex>0</extractionGroupIndex>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Admin emails for notfication: &quot;{value}&quot;</message>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>emailList</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="190d7a40-1d0e-44dc-963c-3fdc2721ec34" action="GET" session="velocity" estimatedStepExecutionTime="1.14">
                            <command>
                                <body>/velocity/api/user/v8/profiles?role=USER&amp;limit=1&amp;sortBy=created&amp;sortOrder=desc</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/profiles/item/id</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>userId</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/profiles/item/name</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>userName</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="none">
                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>New User and User ID added to the system: [userName], [userId]</message>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/user/v8/profiles?role=USER&amp;limit=1&amp;sortBy=created&amp;sortOrder=desc" action.inherit="false">
                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                            </applicationProperties>
                        </item>
                        <item guid="f345afce-ae1a-47fd-b9ee-61f26afa9796" action="comment">
                            <command>
                                <body>KVM-Workshop is hardcoded - variable sub is causing issues with xpath and python syntax</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="47fa610b-6c1f-4ac6-9599-e3defddff79b" action="GET" session="velocity" estimatedStepExecutionTime="0.636">
                            <command>
                                <body>/velocity/api/user/v8/groups</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/userGroups/item[name =&apos;KVM-Workshop&apos;]/id</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>userGroupId</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="none">
                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>User Group ID : [userGroupId]</message>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/user/v8/groups" action.inherit="false">
                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                            </applicationProperties>
                        </item>
                        <item guid="b5e661a2-2252-442a-bf80-75c0f0f3d474" action="POST" session="velocity" estimatedStepExecutionTime="0.589">
                            <command>
                                <body>/velocity/api/user/v8/group/[userGroupId]/user/[userId]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>statusCode/@value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) == 200</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>POST status code, expected code 200, actual code: [value]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>POST status code, expected code 200, actual code: [value]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="POST" httpMethod.inherit="false" action="/velocity/api/user/v8/group/[userGroupId]/user/[userId]" action.inherit="false">
                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7db7cae2-658b-4ee5-9f6e-5f25b496bd2b" action="comment">
                    <command>
                        <body>Send email to admins about new user</body>
                    </command>
                    <nestedSteps>
                        <item guid="4869b18c-14c5-44d8-b7ce-fc833e2ba2a4" action="open" session="email">
                            <command>
                                <body>project://ui_mail_com/referenceSessionProfile/mail.ffsp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.applications.mail.MailSessionProperties">
                                    <smtpUser inherit="false" sub="true">[param(&apos;email&apos;)]</smtpUser>
                                    <smtpPassword inherit="false" sub="true" masked="true">4RvNHVItEyvq2ADc2RE8I4rR7ZGVWJpH</smtpPassword>
                                    <from inherit="false">noreply.velocity@gmail.com</from>
                                    <sessionbuilderInitializeAction type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="a9a3d569-e559-4dbb-9e38-700c4756a7e1" action="call">
                            <command>
                                <body>sendNotification -emailAddress [emailList] -users [userName]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="c727dd5c-4dc6-48cf-8e9a-1590c70295eb" action="close" session="email">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
        <item name="getEmailsPerUserRole">
            <description>Get velocity emails per user roles</description>
            <steps>
                <item guid="6ff8c411-bad4-4e33-a4b5-c5b9b070b013" action="GET" session="velocity" estimatedStepExecutionTime="0.79">
                    <command>
                        <body>/velocity/api/user/v8/profiles?filter=role::[role]|role::SUPER_ADMIN</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>.//email</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>emails</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/user/v8/profiles?filter=role::[role]|role::SUPER_ADMIN" action.inherit="false">
                        <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="2333c09a-fe8d-4f36-8add-f7350c8fbcaa" action="eval">
                    <command>
                        <body>emailList = &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="cca17031-9297-46b2-a277-6f265414103b" action="for">
                    <command>
                        <body>email in emails:</body>
                    </command>
                    <nestedSteps>
                        <item guid="12185fb8-3265-43f8-9dfc-e500d030c39c" action="comment">
                            <command>
                                <body>list emails</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="92ab15aa-cae6-4b7d-900b-5f2f655dc020" action="if">
                            <command>
                                <body>email != &quot;&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="a6be2cfe-09b4-452d-9d87-c3b1e3b536d0" action="eval">
                                    <command>
                                        <body>emailList = emailList + &quot;;&quot; + email</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="bafe94f9-2376-489c-9574-d63b937ca0b1" action="eval">
                    <command>
                        <body>emailList = emailList[1:]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="979e6f67-936d-4554-8759-de0677e61900" action="eval">
                    <command>
                        <body>print(emailList)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9b2257e3-7232-4db1-ae0d-08cec39e5409" action="return">
                    <command>
                        <body>[emailList]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Get emails based on valid user roles - e.g. ADMIN</multilineDescription>
            <arguments>
                <item name="role">
                    <description>Use a valid user role</description>
                    <defaultValue>ADMIN</defaultValue>
                </item>
                <item name="token">
                    <description>Token for REST authentication</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="sendNotification">
            <steps>
                <item guid="a8742c79-47f9-4410-bc47-fafc35c790fb" action="from" session="email">
                    <command>
                        <body>noreply.velocity@gmail.com</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4d34137c-2948-471d-a6f6-c1b7be680a7e" action="to" session="email">
                    <command>
                        <body>[emailAddress]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="752989ad-be3a-4e6c-9c7c-c710564d4fde" action="subject" session="email">
                    <command>
                        <body>New user logged in to Velocity notification</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c1808e1b-2277-4020-85d0-b3c70780bbd1" action="writeLine" session="email">
                    <command>
                        <body>This is a notification to let you know user with this login id has logged into the system:</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c73019f7-e935-4025-818e-680e804b62e4" action="writeLine" session="email">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0de7513d-6239-4a39-9859-98b0475a5b70" action="writeLine" session="email">
                    <command>
                        <body>[users]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4b2a294a-ceee-4211-9d10-09738cc6664f" action="send" session="email">
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>Result()</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>value == &quot;Success&quot;</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Email sent status, expected status &quot;Success&quot;, actual result [value]</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Email sent status, expected status &quot;Success&quot;, actual result [value]</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="emailAddress">
                    <description>This is the list of email addresses. Comma seperate multiple emails</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="users">
                    <description>New users that are added to the system</description>
                </item>
            </arguments>
        </item>
    </procedures>
</testCase>
